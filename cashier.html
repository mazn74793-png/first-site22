<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>الكاشير</title>
<style>
body{background:#0f2027;color:white;font-family:Arial;padding:20px}
input,button{padding:10px;margin:5px}
.card{background:#1e293b;padding:15px;border-radius:8px}
</style>
</head>
<body>

<h2>الكاشير</h2>
<input id="code" placeholder="كود المنتج">
<button onclick="search()">بحث</button>

<div id="out"></div>

<script type="module">
import { supabase } from "./supabaseClient.js";

async function search(){
  const { data } = await supabase
    .from("products")
    .select("*")
    .eq("code",code.value)
    .single();

  if(!data){ out.innerText="مش موجود"; return; }

  out.innerHTML=`
    <div class="card">
      الاسم: ${data.name}<br>
      السعر: ${data.price}<br>
      المخزون: ${data.stock}
    </div>`;
}
window.search=search;
</script>

</body>
</html>

